- defaults:
    link:
      relink: true
      force: true
      create: true

- create:
    $HOME/Pictures/Screenshots:
      mode: 0750
    $HOME/Repos:
      mode: 0750
    $HOME/.config/i3-custom:
      mode: 0750

- shell:
    command: "rm $HOME/.config/i3-custom/*"
    quiet: true
    description: "Cleaning up custom dotfiles beforehand"

- link:
    $HOME/.config/:
      glob: true
      path: config/desktop/config/*
    $HOME/.atom/package.list:
      path: config/admin/atom/package.list
    $HOME/.atom/config.cson:
      path: config/admin/atom/config.cson
    $HOME/.config/i3-custom/admin.conf:
      path: config/admin/i3/admin.conf

- shell:
  - [if command -v apm 2>&1 1>/dev/null; then apm install --packages-file $HOME/.atom/package.list; fi]
