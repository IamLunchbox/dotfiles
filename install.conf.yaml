- defaults:
    link:
      relink: true

- create:
    $HOME/Repos:
      mode: 0750
    $HOME/Pictures/Screenshots:
      mode: 0750
    $HOME/.ssh:
      mode: 0700
    $HOME/.atom:
      mode: 0750
    $HOME/.config:
      mode: 0750

- link:
    $HOME/.tmux.conf: 
      path: home/.tmux.conf
    $HOME/.config/: 
      glob: true
      path: home/.config/*
      force: true       
    $HOME/.zshrc: 
      force: true
      path: home/.zshrc
    $HOME/.zsh-functions: 
      force: true
      path: home/.zsh-functions
    $HOME/.nanorc: 
      path: home/.nanorc
    $HOME/.aliases:
      force: true
      path: home/.aliases
    $HOME/.atom/package.list:
      path: home/.atom/package.list
      force: true
    $HOME/.atom/config.cson:
      path: home/.atom/config.cson
      force: true
    $HOME/.wallpapers:
      path: home/.wallpapers
      force: true

- shell:
  - [git submodule update --init --recursive, Installing submodules]
  - [if command -v apm 2>&1 1>/dev/null; then apm install --packages-file $HOME/.atom/package.list; fi]
  - [if $(uname -rv | grep -qi "kali") && $(test -e $HOME/.wallpapers); then rm $HOME/.wallpapers; ln -s $(realpath ./home/.wallpapers-kali) $HOME/.wallpapers; elif $(test -e $HOME/.wallpapers); then rm $HOME/.wallpapers; ln -s $(realpath ./home/.wallpapers) $HOME/.wallpapers; fi]    
  - [if $(uname -rv | grep -qi "kali"); then rm -r $HOME/.config/i3; ln -s $(realpath ./home/.config/i3-kali) $HOME/.config/i3; fi]    

- clean:
    $HOME/:
      force: true
    $HOME/.config:
      recursive: true

